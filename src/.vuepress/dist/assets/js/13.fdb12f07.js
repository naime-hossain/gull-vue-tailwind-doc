(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{396:function(t,a,e){"use strict";e.r(a);var s=e(50),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"apolloquery-component"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apolloquery-component"}},[t._v("#")]),t._v(" ApolloQuery component")]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ApolloQuery")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":query")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("gql => gql`\n    query MyHelloQuery ($name: String!) {\n      hello (name: $name)\n    }\n  `"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":variables")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{ name }"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-slot")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{ result: { error, data }, isLoading }"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Loading --\x3e")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-if")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("isLoading"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("loading apollo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Loading..."),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Error --\x3e")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-else-if")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("error apollo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("An error occurred"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Result --\x3e")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-else-if")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("result apollo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ data.hello }}"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- No result --\x3e")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("no-result apollo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("No result :("),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ApolloQuery")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("To enable support of "),e("code",[t._v("gql")]),t._v(" string tag in Vue templates, see the necessary setup in "),e("RouterLink",{attrs:{to:"/guide-components/query.html#tag-setup"}},[t._v("the guide")]),t._v(".")],1)]),t._v(" "),e("h2",{attrs:{id:"props"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#props"}},[t._v("#")]),t._v(" Props")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("query")]),t._v(": GraphQL query (transformed by "),e("code",[t._v("graphql-tag")]),t._v(") or a function that receives the "),e("code",[t._v("gql")]),t._v(" tag as argument and should return the transformed query")]),t._v(" "),e("li",[e("code",[t._v("variables")]),t._v(": Object of GraphQL variables")]),t._v(" "),e("li",[e("code",[t._v("fetchPolicy")]),t._v(": See "),e("a",{attrs:{href:"https://www.apollographql.com/docs/react/data/queries/#supported-fetch-policies",target:"_blank",rel:"noopener noreferrer"}},[t._v("apollo fetchPolicy"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("pollInterval")]),t._v(": Number of milliseconds. Polling provides near-real-time synchronization with your server by causing a query to execute periodically at a specified interval.")]),t._v(" "),e("li",[e("code",[t._v("notifyOnNetworkStatusChange")]),t._v(": See "),e("a",{attrs:{href:"https://www.apollographql.com/docs/react/data/queries/#inspecting-loading-states",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inspecting loading states"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("context")]),t._v(": See "),e("a",{attrs:{href:"https://www.apollographql.com/docs/react/api/link/apollo-link-context/",target:"_blank",rel:"noopener noreferrer"}},[t._v("apollo context"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("update")]),t._v(": Function to transform the result "),e("code",[t._v("data")]),t._v(", useful for picking a specific part of the response. Example: "),e("code",[t._v(':update="data => data.user.messages"')])]),t._v(" "),e("li",[e("code",[t._v("skip")]),t._v(": Boolean disabling query fetching")]),t._v(" "),e("li",[e("code",[t._v("clientId")]),t._v(": id of the Apollo Client used by the query (defined in ApolloProvider "),e("code",[t._v("clients")]),t._v(" option)")]),t._v(" "),e("li",[e("code",[t._v("deep")]),t._v(": Boolean to use deep Vue watchers")]),t._v(" "),e("li",[e("code",[t._v("tag")]),t._v(": String HTML tag name (default: "),e("code",[t._v("div")]),t._v("); if falsy (for example "),e("code",[t._v("null")]),t._v(" or "),e("code",[t._v("undefined")]),t._v("), the component will be renderless (the content won't be wrapped in a tag), in this case, only the first child will be rendered")]),t._v(" "),e("li",[e("code",[t._v("debounce")]),t._v(": Number of milliseconds for debouncing refetches (for example when the variables are changed)")]),t._v(" "),e("li",[e("code",[t._v("throttle")]),t._v(": Number of milliseconds for throttling refetches (for example when the variables are changed)")]),t._v(" "),e("li",[e("code",[t._v("prefetch")]),t._v(": If "),e("code",[t._v("false")]),t._v(", will skip prefetching during SSR")]),t._v(" "),e("li",[e("code",[t._v("options")]),t._v(": Other Apollo Watch Query options")])]),t._v(" "),e("h2",{attrs:{id:"scoped-slot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scoped-slot"}},[t._v("#")]),t._v(" Scoped slot")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("result")]),t._v(": Apollo Query result\n"),e("ul",[e("li",[e("code",[t._v("result.data")]),t._v(": Data returned by the query (can be transformed by the "),e("code",[t._v("update")]),t._v(" prop)")]),t._v(" "),e("li",[e("code",[t._v("result.fullData")]),t._v(": Raw data returned by the query (not transformed by the "),e("code",[t._v("update")]),t._v(" prop)")]),t._v(" "),e("li",[e("code",[t._v("result.loading")]),t._v(": Boolean indicating that a request is in flight (you may need to set "),e("code",[t._v("notifyOnNetworkStatusChange")]),t._v(" prop for it to change)")]),t._v(" "),e("li",[e("code",[t._v("result.error")]),t._v(": Eventual error for the current result")]),t._v(" "),e("li",[e("code",[t._v("result.networkStatus")]),t._v(": See "),e("a",{attrs:{href:"https://www.apollographql.com/docs/react/data/queries/#inspecting-loading-states",target:"_blank",rel:"noopener noreferrer"}},[t._v("apollo networkStatus"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("code",[t._v("query")]),t._v(": Smart Query associated with the component. It's useful to do some operations like "),e("code",[t._v("query.refetch()")]),t._v(" or "),e("code",[t._v("query.fetchMore()")]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("isLoading")]),t._v(": Smart Query loading state")]),t._v(" "),e("li",[e("code",[t._v("gqlError")]),t._v(": first GraphQL error if any")]),t._v(" "),e("li",[e("code",[t._v("times")]),t._v(": number of times the result was updated")])]),t._v(" "),e("h2",{attrs:{id:"events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" Events")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("result(resultObject)")])]),t._v(" "),e("li",[e("code",[t._v("error(errorObject)")])]),t._v(" "),e("li",[e("code",[t._v("loading(boolean)")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);